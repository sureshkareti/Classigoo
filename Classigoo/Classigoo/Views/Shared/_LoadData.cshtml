
@{
    Layout = null;
}

<form class="form-common filter-form filter-header-form">
    <div class="form-group outer-select-field">
        <a class="input-dropedown-btn catagory-btn" href="javascript:void(0)">
            <i class="fa fa-bars" aria-hidden="true"></i> Categories
        </a>
        <input type="text" class="outer-select-input-box" id="listing_catagory_list" placeholder="Ex: Food, Drink">
    </div>    
    <div class="form-group outer-select-field">
        <a class="input-dropedown-btn location-btn" href="javascript:void(0)">
            <i class="fa fa-crosshairs" aria-hidden="true"></i> Location
        </a>
        <input type="text" class="outer-select-input-box" id="listing_location_list" placeholder="Ex: Food, Drink">
    </div>
    <div class="form-group outer-select-field">
        <a class="input-dropedown-btn" href="javascript:void(0)">
            <i class="fa fa-crosshairs" aria-hidden="true"></i> Keword
        </a>
        <input type="text" class="outer-select-input-box" id="listing_keword" placeholder="Ex: Food, Drink">
    </div>
    <div class="btn-group">
        <button type="submit" class="danger-btn">
            <i class="ti-search" aria-hidden="true"></i>
            Search
        </button>

    </div>
</form>

@*<script src="~/Scripts/ScriptsNew/jquery.bootpag.min.js"></script>*@

@section Styles {
    <link href="@Url.Content("~/Content/CustomeNew/Index1.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/CssNew/responsive.css")" rel="stylesheet" />
    @*<link href="@Url.Content("~/Content/CssNew/style.css")" rel="stylesheet" />*@
}

<link href="~/Content/Custome/easy-autocomplete.min.css" rel="stylesheet" />
<link href="~/Content/Custome/easy-autocomplete.themes.min.css" rel="stylesheet" />

<script>
    $(document).ready(function () {
        
        FillCategories();
        FillLocations();

        function FillCategories() {
            $.ajax({
                url: '@Url.Action("GetCategories","Search")',
                type: 'GET',
                datatype:'json',

                success: function (data) {

                    var categoryColl = new Array();
                    $.each(data, function (i, field) {

                        categoryColl.push(field.CategoryName);
                    });
                    var options = {
                        data: categoryColl,
                        list: {
                            match: {
                                enabled: true
                            },
                            onSelectItemEvent: function () {
                             var category = $("#listing_catagory_list").getSelectedItemData();
                                //var a = '<%=Session["TireLn"]%>';
                            }
                        }

                    };

                    $("#listing_catagory_list").easyAutocomplete(options);

                },
                failure: function (response) {
                    console.log(response.responseText);
                },
                error: function (response) {
                    console.log(response.responseText);
                },
                complete: function (data) {
                    //$("#requestOverlay").hide();/*Remove overlay*/
                }

            });
        }

        function FillLocations() {
            $.ajax({
                url: '@Url.Action("GetLocations", "Search")',
                type: 'GET',
                datatype: 'json',

                success: function (data) {

                    var locationColl = new Array();
                    $.each(data, function (i, field) {

                        locationColl.push(field.LocationName);
                    });
                    var options = {
                        data: locationColl,
                        list: {
                            match: {
                                enabled: true
                            },
                            onSelectItemEvent: function () {
                                // $("#locations").attr("value", $("#locations").getSelectedItemData());
                                //var a = '<%=Session["TireLn"]%>';
                            }
                        }

                    };

                    $("#listing_location_list").easyAutocomplete(options);

                },
                failure: function (response) {
                    console.log(response.responseText);
                },
                error: function (response) {
                    console.log(response.responseText);
                },
                complete: function (data) {
                    //$("#requestOverlay").hide();/*Remove overlay*/
                }

            });
        }

    });

</script>
<script src="~/Scripts/Custome/jquery.easy-autocomplete.min.js" type="text/javascript"></script>