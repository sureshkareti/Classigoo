@model IEnumerable<MessageDetail>
@using (Html.BeginForm("ViewChatModal", "User", FormMethod.Post))

{
    <link href="~/Content/bootstrap.css" rel="stylesheet" />
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-3.2.1.min.js"></script>
    <script src="~/Scripts/bootstrap.min.js"></script>
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h4 class="modal-title" id="myModalLabel"></h4>
    </div>

    <div class="table-responsive">

        @if (Model != null && Model.Count() > 0)
        {
            foreach (MessageDetail msgDtl in (List<MessageDetail>)Model)
            {
                if (msgDtl.FromUserId == Session["UserId"].ToString())
                {
                    <div style="padding:5px;" align="left">
                        <div style="text-align:left;padding:2px;background-color:white;">
                            @msgDtl.Message
                        </div>
                        <div style="text-align:left;font-size:12px;background-color:white;">
                            - @Convert.ToDateTime(msgDtl.CreatedOn).ToString("dd-MMM-yyyy")
                        </div>
                    </div>
                }
                else
                {
                    <div style="padding:5px;" align="right">
                        <div style="text-align:right;padding:2px;background-color:lightgray;">
                            @msgDtl.Message
                        </div>
                        <div style="text-align:right;font-size:12px;background-color:lightgray;">
                            - @Convert.ToDateTime(msgDtl.CreatedOn).ToString("dd-MMM-yyyy")
                        </div>
                    </div>
                }
            }
        }

    </div>
    <div class="form-group modal-footer">
        <div align="left">
            <div style="vertical-align:top;">
                <b style="padding:5px;">Reply: </b>@Html.TextArea("Name", "", new { @style = "color:green;border:1px solid #b3b3b3;" })
            </div>
            <div style="padding:5px;">
                <input type="submit" value="Send" class="btn btn-primary" />
                <input type="button" value="Close" class="btn btn-primary" data-dismiss="modal" />
            </div>
        </div>
    </div>
}